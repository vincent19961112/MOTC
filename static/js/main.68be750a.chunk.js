(this.webpackJsonpmotc=this.webpackJsonpmotc||[]).push([[0],{82:function(t,n,e){"use strict";e.r(n);var i={};e.r(i),e.d(i,"loading",(function(){return _})),e.d(i,"loaded",(function(){return J})),e.d(i,"hasNoMore",(function(){return A})),e.d(i,"getSpotList",(function(){return q})),e.d(i,"getMoreSpotList",(function(){return H}));var o={};e.r(o),e.d(o,"loading",(function(){return B})),e.d(o,"loaded",(function(){return V})),e.d(o,"hasNoMore",(function(){return Q})),e.d(o,"getSpotCityList",(function(){return W})),e.d(o,"getMoreSpotCityList",(function(){return Z}));var r,a,c,s,d,l=e(0),u=e(25),p=e.n(u),b=e(13),h=e(14),x=e(16),g=e(15),j=e(19),y=e(5),m=e(12),f=e(3),O=e(4),C=Object(O.a)(r||(r=Object(f.a)(["\n  html, body, div, span, applet, object, iframe,\n  h1, h2, h3, h4, h5, h6, p, blockquote, pre,\n  a, abbr, acronym, address, big, cite, code,\n  del, dfn, em, img, ins, kbd, q, s, samp,\n  small, strike, strong, sub, sup, tt, var,\n  b, u, i, center,\n  dl, dt, dd, ol, ul, li,\n  fieldset, form, label, legend,\n  table, caption, tbody, tfoot, thead, tr, th, td,\n  article, aside, canvas, details, embed, \n  figure, figcaption, footer, header, hgroup, \n  menu, nav, output, ruby, section, summary,\n  time, mark, audio, video {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n  }\n  article, aside, details, figcaption, figure, \n  footer, header, hgroup, menu, nav, section {\n    display: block;\n  }\n  body {\n    line-height: 1;\n  }\n  ol, ul {\n    list-style: none;\n  }\n  blockquote, q {\n    quotes: none;\n  }\n  blockquote:before, blockquote:after,\n  q:before, q:after {\n    content: '';\n    content: none;\n  }\n  table {\n    border-collapse: collapse;\n    border-spacing: 0;\n  }\n\n"]))),N=e(21),v=e(48),S=e(49),L=e(11),M="SpotList/CHANGE_ALL_LIST",w="SpotList/LOADING",k="SpotList/LOADED",E="SpotList/HAS_NO_MORE",I=Object(L.fromJS)({scenicSpotList:[],loading:!1,hasMore:!0}),z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case w:return t.set("loading",!0);case k:return t.set("loading",!1);case E:return t.set("hasMore",!1);case M:return t.set("scenicSpotList",n.data);default:return t}},T=e(23),P=e(22),D=e.n(P),_=function(){return{type:w}},J=function(){return{type:k}},A=function(){return{type:E}},$=function(t){return{type:M,data:Object(L.List)(t)}},q=function(t){return function(n){0===t.length&&D.a.get("https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot",{params:{$top:30,$format:"JSON"}}).then((function(t){n($(t.data))})).catch((function(){console.log("error")}))}},H=function(t,n,e,i){return function(o){n&&i&&D.a.get("https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot",{params:{$top:30,$skip:e,$format:"JSON"}}).then((function(e){var i=[].concat(Object(T.a)(t),Object(T.a)(e.data));0===e.data.length&&n?o(A()):o($(i)),o(J())})).catch((function(){console.log("error")}))}},U="SpotCityList/CHANGE_CITY_LIST",R="SpotCityList/LOADING",Y="SpotCityList/LOADED",G="SpotCityList/HAS_NO_MORE",X=Object(L.fromJS)({City:[{CityName:"\u81fa\u5317\u5e02",CityNameEN:"Taipei",Citylist:[],hasMore:!0,loading:!1},{CityName:"\u65b0\u5317\u5e02",CityNameEN:"NewTaipei",Citylist:[],hasMore:!0,loading:!1},{CityName:"\u6843\u5712\u5e02",CityNameEN:"Taoyuan",Citylist:[],hasMore:!0,loading:!1},{CityName:"\u53f0\u4e2d\u5e02",CityNameEN:"Taichung",Citylist:[],hasMore:!0,loading:!1},{CityName:"\u81fa\u5357\u5e02",CityNameEN:"Tainan",Citylist:[],hasMore:!0,loading:!1},{CityName:"\u9ad8\u96c4\u5e02",CityNameEN:"Kaohsiung",Citylist:[],hasMore:!0,loading:!1},{CityName:"\u57fa\u9686\u5e02",CityNameEN:"Keelung",Citylist:[],hasMore:!0,loading:!1},{CityName:"\u65b0\u7af9\u5e02",CityNameEN:"Hsinchu",Citylist:[],hasMore:!0,loading:!1},{CityName:"\u65b0\u7af9\u7e23",CityNameEN:"HsinchuCounty",Citylist:[],hasMore:!0,loading:!1},{CityName:"\u82d7\u6817\u7e23",CityNameEN:"MiaoliCounty",Citylist:[],hasMore:!0,loading:!1},{CityName:"\u5f70\u5316\u7e23",CityNameEN:"ChanghuaCounty",Citylist:[],hasMore:!0,loading:!1},{CityName:"\u5357\u6295\u7e23",CityNameEN:"NantouCounty",Citylist:[],hasMore:!0,loading:!1},{CityName:"\u96f2\u6797\u7e23",CityNameEN:"YunlinCounty",Citylist:[],hasMore:!0,loading:!1},{CityName:"\u5609\u7fa9\u7e23",CityNameEN:"ChiayiCounty",Citylist:[],hasMore:!0,loading:!1},{CityName:"\u5609\u7fa9\u5e02",CityNameEN:"Chiayi",Citylist:[],hasMore:!0,loading:!1},{CityName:"\u5c4f\u6771\u7e23",CityNameEN:"PingtungCounty",Citylist:[],hasMore:!0,loading:!1},{CityName:"\u5b9c\u862d\u7e23",CityNameEN:"YilanCounty",Citylist:[],hasMore:!0,loading:!1},{CityName:"\u82b1\u84ee\u7e23",CityNameEN:"HualienCounty",Citylist:[],hasMore:!0,loading:!1},{CityName:"\u81fa\u6771\u7e23",CityNameEN:"TaitungCounty",Citylist:[],hasMore:!0,loading:!1},{CityName:"\u91d1\u9580\u7e23",CityNameEN:"KinmenCounty",Citylist:[],hasMore:!0,loading:!1},{CityName:"\u6f8e\u6e56\u7e23",CityNameEN:"PenghuCounty",Citylist:[],hasMore:!0,loading:!1},{CityName:"\u9023\u6c5f\u7e23",CityNameEN:"LienchiangCounty",Citylist:[],hasMore:!0,loading:!1}]}),F=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case R:return t.setIn(["City",n.index,"loading"],!0);case Y:return t.setIn(["City",n.index,"loading"],!1);case G:return t.setIn(["City",n.index,"hasMore"],!1);case U:return t.setIn(["City",n.index,"Citylist"],n.data);default:return t}},K=function(t,n){return{type:U,data:Object(L.List)(t),index:n}},B=function(t){return{type:R,index:t}},V=function(t){return{type:Y,index:t}},Q=function(t){return{type:G,index:t}},W=function(t,n,e){return function(i){0===e.length&&D.a.get("https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot/".concat(t),{params:{$top:30,$format:"JSON"}}).then((function(t){var e=K(t.data,n);i(e)})).catch((function(){console.log("error")}))}},Z=function(t,n,e,i,o,r){return function(a){i&&r&&D.a.get("https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot/".concat(t),{params:{$top:30,$skip:o,$format:"JSON"}}).then((function(t){var i=[].concat(Object(T.a)(e),Object(T.a)(t.data));0===t.data.length?a(Q(n)):a(K(i,n)),a(V(n))})).catch((function(){console.log("error")}))}},tt=Object(S.combineReducers)({scenicSpot:z,spotCity:F}),nt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||N.c,et=Object(N.d)(tt,nt(Object(N.a)(v.a))),it=O.b.div(a||(a=Object(f.a)(["\n text-align: center;\n height: 130px;\n width:100%;\n border-bottom:2px solid #eee;\n"]))),ot=O.b.div(c||(c=Object(f.a)(["\n  margin:20px 0;\n"]))),rt=O.b.div(s||(s=Object(f.a)(["\n display:flex;\n justify-content:center;\n"]))),at=Object(O.b)(j.b)(d||(d=Object(f.a)(["\n  text-decoration: none;\n  font-weight:bold;\n  cursor:pointer;\n  margin: 0 10px;\n  padding: 10px;\n  font-size:20px;\n  border:1px solid black;\n  &:hover {\n  background:black;\n  color:white;\n  border:1px solid white;\n  }\n  color:black;\n  &:focus{\n  background:black;\n  color:white;\n  border:1px solid white;\n  }\n"]))),ct=e(1);var st,dt,lt,ut,pt,bt,ht,xt,gt,jt,yt=Object(m.b)((function(t){return{scenicSpotList:t.getIn(["scenicSpot","scenicSpotList"])}}),(function(t){return{handleSpotList:function(n){t(i.getSpotList(n))}}}))((function(t){var n=t.handleSpotList,e=t.scenicSpotList.toJS();return Object(ct.jsxs)(it,{children:[Object(ct.jsx)(ot,{children:"MOTC"}),Object(ct.jsxs)(rt,{children:[Object(ct.jsx)(at,{to:"/scenicSpot",onClick:function(){return n(e)},children:"\u5168\u90e8"}),Object(ct.jsx)(at,{to:"/scenicSpot/".concat("\u81fa\u5317\u5e02"),children:"\u7e23\u5e02"})]})]})})),mt=O.b.div(st||(st=Object(f.a)(["\n padding: 80px 0;\n margin: 150px 100px;\n box-shadow: 0 0 8px rgba(0, 0, 0, 0.2);\n "]))),ft=O.b.div(dt||(dt=Object(f.a)(["\n text-align: center;\n font-size: 25px;\n font-weight: 800;\n "]))),Ot=O.b.div(lt||(lt=Object(f.a)(["\n margin-top: 50px;\n text-align: center;\n font-size: 15px;\n font-weight: 400;\n "]))),Ct=O.b.div(ut||(ut=Object(f.a)(["\n margin-top: 50px;\n text-align: center;\n font-size: 20px;\n font-weight: 600;\n "]))),Nt=function(t){Object(x.a)(e,t);var n=Object(g.a)(e);function e(){return Object(b.a)(this,e),n.apply(this,arguments)}return Object(h.a)(e,[{key:"render",value:function(){return Object(ct.jsxs)(mt,{children:[Object(ct.jsx)(ft,{children:"MOTC \u89c0\u5149\u666f\u9ede"}),Object(ct.jsxs)(Ot,{children:["\u4f7f\u7528\u5957\u4ef6",Object(ct.jsx)("br",{}),"axios",Object(ct.jsx)("br",{}),"immutable",Object(ct.jsx)("br",{}),"react-immutable",Object(ct.jsx)("br",{}),"react-redux",Object(ct.jsx)("br",{}),"react-router-dom",Object(ct.jsx)("br",{}),"react-thunk",Object(ct.jsx)("br",{}),"redux",Object(ct.jsx)("br",{}),"redux-immutable",Object(ct.jsx)("br",{}),"styled-components"]}),Object(ct.jsx)(Ct,{children:"\u4f5c\u8005: \u8a31\u9438\u9419"})]})}}]),e}(l.Component),vt=O.b.div(pt||(pt=Object(f.a)(["\n padding: 20px;\n text-align: center;\n font-size: 40px;\n line-height:40px;\n height:250px;\n"]))),St=O.b.div(bt||(bt=Object(f.a)(["\n z-index: 1;\n overflow: hidden;\n cursor: pointer;\n min-height: 200px;\n position: relative;\n margin: 50px 30px;\n padding: 15px 30px;\n box-shadow: 0 0 8px rgba(0, 0, 0, 0.2);\n .SpotListImg{\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  right: 20px;\n  width:150px;\n  height:150px;\n }\n  &:after {\n   z-index: -1;\n   position: absolute;\n   bottom: 10px;\n   left: 10px;\n   content: '","';\n   font-size: 80px;\n   color: #888;\n   opaticy: 0.2;\n   transform: skewX(-36deg);\n  }\n"])),(function(t){return t.index})),Lt=O.b.div(ht||(ht=Object(f.a)(["\n z-index: 2;\n font-size: 25px;\n font-weight: 800;\n text-align: center;\n line-height: 75px;\n height: 75px;\n width: 100%;\n background: whitesmoke;\n color: #888; \n"]))),Mt=O.b.div(xt||(xt=Object(f.a)(["\n z-index: 2;\n font-size: 25px;\n padding:10px 30px;\n"]))),wt=O.b.div(gt||(gt=Object(f.a)(["\n font-size: 15px;\n padding:10px 35px;\n"]))),kt=O.b.div(jt||(jt=Object(f.a)(["\n z-index: 2;\n max-width:50%;\n margin-top: 10px;\n padding:0px 30px;\n"])));var Et,It,zt,Tt,Pt,Dt,_t,Jt,At=Object(m.b)((function(t){return{scenicSpotList:t.getIn(["scenicSpot","scenicSpotList"]),loading:t.getIn(["scenicSpot","loading"]),hasMore:t.getIn(["scenicSpot","hasMore"])}}),(function(t){return{handleloading:function(){t(i.loading())},handlehasMoreList:function(n,e,o,r){t(i.getMoreSpotList(n,e,o,r))}}}))((function(t){var n=t.scenicSpotList,e=t.hasMore,i=t.loading,o=t.handleloading,r=t.handlehasMoreList,a=n.toJS(),c=Object(l.useRef)(),s=Object(l.useCallback)((function(t){c.current&&c.current.disconnect(),c.current=new IntersectionObserver((function(t){t[0].isIntersecting&&(o(),r(a,e,a.length,i))})),t&&c.current.observe(t)}));return 0!==a.length||i?a.map((function(t,n){var e=t.ID,i=t.Name,o=t.Address,r=t.Description,c=t.Picture;return a.length===n+1?Object(ct.jsxs)(St,{index:n+1,ref:s,children:[Object(ct.jsx)(Mt,{children:i}),Object(ct.jsx)(wt,{children:o}),Object(ct.jsx)(kt,{children:r||"\u6c92\u6709\u7c21\u4ecb"}),Object(ct.jsx)("img",{className:"SpotListImg",alt:c.PictureDescription1,src:c.PictureUrl1?c.PictureUrl1:"\u6c92\u6709\u5716\u7247"})]},e):Object(ct.jsxs)(St,{index:n+1,children:[Object(ct.jsx)(Mt,{children:i}),Object(ct.jsx)(wt,{children:o}),Object(ct.jsx)(kt,{children:r||"\u6c92\u6709\u7c21\u4ecb"}),Object(ct.jsx)("img",{className:"SpotListImg",alt:c.PictureDescription1,src:c.PictureUrl1?c.PictureUrl1:"\u6c92\u6709\u5716\u7247"})]},e)})):Object(ct.jsx)(vt,{children:"Loading..."})})),$t=function(t){Object(x.a)(e,t);var n=Object(g.a)(e);function e(){return Object(b.a)(this,e),n.apply(this,arguments)}return Object(h.a)(e,[{key:"render",value:function(){return Object(ct.jsxs)(ct.Fragment,{children:[Object(ct.jsx)(Lt,{children:"\u98a8\u666f"}),Object(ct.jsx)(At,{})]})}}]),e}(l.Component),qt=e(50),Ht=O.b.div(Et||(Et=Object(f.a)(["\n padding: 20px;\n text-align: center;\n font-size: 40px;\n line-height:40px;\n height:250px;\n"]))),Ut=O.b.div(It||(It=Object(f.a)(["\n cursor: pointer;\n min-height: 200px;\n position: relative;\n margin: 50px 30px;\n padding: 15px 30px;\n box-shadow: 0 0 8px rgba(0, 0, 0, 0.2);\n .SpotListImg{\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  right: 20px;\n  width:150px;\n  height:150px;\n }\n  &:after {\n   z-index: -1;\n   position: absolute;\n   bottom: 10px;\n   left: 10px;\n   content: '","';\n   font-size: 80px;\n   color: #888;\n   opaticy: 0.2;\n   transform: skewX(-36deg);\n  }\n"])),(function(t){return t.index})),Rt=(O.b.div(zt||(zt=Object(f.a)(["\n font-size: 25px;\n font-weight: 800;\n text-align: center;\n line-height: 75px;\n height: 75px;\n width: 100%;\n background: whitesmoke;\n color: #888;\n"]))),O.b.div(Tt||(Tt=Object(f.a)(["\n font-size: 25px;\n padding:10px 30px;\n"])))),Yt=O.b.div(Pt||(Pt=Object(f.a)(["\n font-size: 15px;\n padding:10px 35px;\n"]))),Gt=O.b.div(Dt||(Dt=Object(f.a)(["\n max-width:500px;\n margin-top: 10px;\n padding:0px 30px;\n"]))),Xt=O.b.div(_t||(_t=Object(f.a)(["\n display: flex;\n justify-content: center;\n flex-wrap: wrap;\n line-height: 50px;\n min-height: 50px;\n background: whitesmoke;\n"]))),Ft=Object(O.b)(j.b)(Jt||(Jt=Object(f.a)(["\n text-decoration: none;\n cursor: pointer;\n border: 1px solid white;\n margin:5px;\n padding:10px;\n color: #888;\n font-weight: 800;\n font-size: 10px;\n &:hover {\n  background:white;\n  color: #666;\n }\n &:focus{\n  background:white;\n  color: #666;\n }\n  "])));var Kt=Object(m.b)((function(t){return{SpotCityList:t.getIn(["spotCity","City"])}}),(function(t){return{handleLoading:function(n){t(o.loading(n))},handleHasMoreList:function(n,e,i,r,a,c){t(o.getMoreSpotCityList(n,e,i,r,a,c))}}}))((function(t){var n=t.SpotCityList,e=t.handleLoading,i=t.handleHasMoreList,o=n.toJS(),r=Object(y.e)(),a=o.map((function(t){var n=Object.values(t).slice(0,1);return Object(qt.a)(n,1)[0]})).indexOf("".concat(r.cityname)),c=o[a].CityNameEN,s=o[a].Citylist,d=o[a].Citylist.length,u=o[a].hasMore,p=o[a].loading,b=Object(l.useRef)(),h=Object(l.useCallback)((function(t){b.current&&b.current.disconnect(),b.current=new IntersectionObserver((function(t){t[0].isIntersecting&&(e(a),i(c,a,s,u,d,p))})),t&&b.current.observe(t)}));return 0!==o.length||p?o.map((function(t){return t.CityName===r.cityname?t.Citylist.map((function(n,e){var i=n.ID,o=n.Name,r=n.Address,a=n.Description,c=n.Picture;return t.Citylist.length===e+1?Object(ct.jsxs)(Ut,{index:e+1,ref:h,children:[Object(ct.jsx)(Rt,{children:o}),Object(ct.jsx)(Yt,{children:r}),Object(ct.jsx)(Gt,{children:a||"\u6c92\u6709\u7c21\u4ecb"}),Object(ct.jsx)("img",{className:"SpotListImg",alt:c.PictureDescription1,src:c.PictureUrl1?c.PictureUrl1:"\u6c92\u6709\u5716\u7247"})]},i):Object(ct.jsxs)(Ut,{index:e+1,children:[Object(ct.jsx)(Rt,{children:o}),Object(ct.jsx)(Yt,{children:r}),Object(ct.jsx)(Gt,{children:a||"\u6c92\u6709\u7c21\u4ecb"}),Object(ct.jsx)("img",{className:"SpotListImg",alt:c.PictureDescription1,src:c.PictureUrl1?c.PictureUrl1:"\u6c92\u6709\u5716\u7247"})]},i)})):null})):Object(ct.jsx)(Ht,{children:"Loading..."})}));var Bt=Object(m.b)((function(t){return{City:t.getIn(["spotCity","City"])}}),(function(t){return{getSpotCityList:function(n,e,i){t(o.getSpotCityList(n,e,i))}}}))((function(t){var n=t.City,e=t.getSpotCityList,i=n.toJS();return Object(ct.jsx)(Xt,{children:i.map((function(t,n){var i=t.CityName,o=t.CityNameEN,r=t.Citylist;return Object(ct.jsx)(Ft,{to:"/scenicSpot/".concat(i),onClick:function(){e(o,n,r)},children:t.CityName},o)}))})})),Vt=function(t){Object(x.a)(e,t);var n=Object(g.a)(e);function e(){return Object(b.a)(this,e),n.apply(this,arguments)}return Object(h.a)(e,[{key:"render",value:function(){return Object(ct.jsxs)(ct.Fragment,{children:[Object(ct.jsx)(Bt,{}),Object(ct.jsx)(Kt,{})]})}}]),e}(l.Component),Qt=function(t){Object(x.a)(e,t);var n=Object(g.a)(e);function e(){return Object(b.a)(this,e),n.apply(this,arguments)}return Object(h.a)(e,[{key:"render",value:function(){return Object(ct.jsxs)(ct.Fragment,{children:[Object(ct.jsx)(C,{}),Object(ct.jsx)(m.a,{store:et,children:Object(ct.jsxs)(j.a,{children:[Object(ct.jsx)(yt,{}),Object(ct.jsx)(y.a,{path:"/",exact:!0,component:Nt}),Object(ct.jsx)(y.a,{path:"/scenicSpot",exact:!0,component:$t}),Object(ct.jsx)(y.a,{path:"/scenicSpot/:cityname",exact:!0,component:Vt})]})})]})}}]),e}(l.Component);p.a.render(Object(ct.jsx)(Qt,{}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.68be750a.chunk.js.map